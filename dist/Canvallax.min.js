/*! canvallax v2.0.0 ( built 2016-05-26 ) https://github.com/shshaw/Canvallax.js @preserve */
!function(t){"use strict";function e(){var t,e=arguments,n=e[0]||{},r=e.length,i=1;for(1===r&&(n=this,i=0);r>i;i++)if(e[i])for(t in e[i])e[i].hasOwnProperty(t)&&(n[t]=e[i][t]);return n}function n(t,n){arguments.length<=1&&(n=t,t=this);var r=e({},t,n);return new t.constructor(r)}function r(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n}function i(){function t(n){var i,a=this,s=arguments.length,o=0;if(!(a instanceof t)){for(i=new Array(s);s>o;o++)i[o]=arguments[o];return r(t,i)}return 1===s&&e(a,n),a.fn=t.fn,a.init&&a.init.apply(a,arguments),a.playing&&a.play&&a.play(),a}for(var i,a=arguments.length,s=0,o={init:p,extend:e,clone:n};a>s;s++){i=arguments[s],i.prototype&&(i=i.prototype);for(var h in i)i.hasOwnProperty(h)&&(o[h]=i[h])}return o.constructor=t,t.fn=t.prototype=o,t}function a(t,n,r,i){if(!(this instanceof a))return new a(t,n,r,i);var s,o=this;if(e(o,i),o.target=t,o.to=r,!o.from){o.from={};for(s in r)o.from[s]=t[s]}return o.duration(n),o.restart(),o}function s(t,e){var n=t.zIndex===e.zIndex?0:t.zIndex<e.zIndex?-1:1;return n||(t.z===e.z?0:t.z<e.z?-1:1)}var o=t.canvallax=t.canvallax||{},h=document,u=(h.documentElement,h.body),l=Array.prototype,c=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,20)};if(!t.CanvasRenderingContext2D)return!1;t.clx=o;var f=Math.PI/180,d=2*Math.PI,p=function(){},g=typeof p,m=function(t){return typeof t===g};o.extend=e,o.clone=n,o.createClass=i;var v={length:0,splice:l.splice,indexOf:l.indexOf,push:l.push,sort:l.sort,unshift:l.unshift,add:function(t){for(var e=this,n=t&&t.length>-1&&Array.isArray(t)?t:arguments,r=n.length,i=0;r>i;i++)n[i]&&e.push(n[i]);return e},each:function(t,e){for(var n,r=this,i=this.length,a=0;i>a&&(n=e||r[a],t.call(n,r[a],a)!==!1);a++);return this},remove:function(t){var e=this.indexOf(t);return e>-1&&this.splice(e,1),this}},y=["width","height"],w={x:0,y:0,z:1,opacity:1,scale:1,rotation:0,addTo:function(t){for(var e=t&&t.length>-1&&Array.isArray(t)?t:arguments,n=e.length,r=0;n>r;r++)e[r]&&e[r].add&&e[r].add(this);return this},extend:e,set:e,render:function(t,e){if(t){var n,r=this,i=r.length,a=0;if(e=e||r.parent,n=t.globalAlpha*r.opacity,0>=n)return r;for(t.save(),t.globalAlpha=n,r.blend&&(t.globalCompositeOperation=r.blend),r.clearFrames&&r.clear&&r.clear(t,e),r.clip&&r._clip(t,e),r.preRender&&r.preRender(t,e),r._render&&r._render(t,e);i>a;a++)r[a].render(t,r);return r.postRender&&r.postRender(t,e),t.restore(),r}},getCanvas:function(){return this.canvas||(this.parent?this.parent.getCanvas():!1)},transformOrigin:"center center",calcTransformPoint:function(){for(var t,e,n=this,r=[0,0],i=n.transformOrigin.split(" "),a=0;2>a;a++)t=i[a],e="center"===t?.5:"right"===t||"bottom"===t?1:t.indexOf("%")?parseFloat(t)/100:0,e&&(r[a]=n[y[a]]*e);return r},getTransformPoint:function(t){var e=this,n=e._transformPoint,r=e.transformOrigin,i=Array.isArray(r);return i||e.width||e.height||!e.length||!e.parent?((t||!n||e._transformOrigin!==r)&&(n=i?r:e.calcTransformPoint(),e._transformOrigin=e.transformOrigin,e._transformPoint=n),n):e.parent.getTransformPoint()},getCoords:function(t){var e=this.x,n=this.y,r=this.offset,i=this.parent,a=!this.fixed&&i&&i.getCoords?i.getCoords():!1;return a&&(e+=a[0],n+=a[1]),void 0!==t&&(e*=t,n*=t),r&&(e+=r.x||0,n+=r.y||0),[e,n]},transform:function(t,e){var n,r,i=this.scale*(void 0!==e?e:1)*this.z;return 0>=i?!1:((1!==i||this.rotation%360!==0)&&(n=this.getCoords(e),r=this.getTransformPoint(),n[0]+=r[0],n[1]+=r[1],t.translate(n[0],n[1]),this.rotation&&t.rotate(this.rotation*f),t.scale(i,i),t.translate(-n[0],-n[1])),this)},_clip:function(t,e){var n=this;t.beginPath(),n.clip.render?(n.clip.parent=e||n,n.clip.render(t,e)):n.clip.call(n,t,e),t.clip()}},x=e({},v,{animate:function(){x.frame=c(x.animate);var t,e=x.length;if(!x.playing||0===e)return void x.stop();for(;e--;)t=x[e],t&&t.playing&&t.render&&!t.render()&&t.stop()},play:function(){x.frame=x.frame||c(x.animate),x.playing=!0},stop:function(){x.playing=!1,x.frame=null},kill:function(){return x.stop(),x.splice(0)}});o.animations=x;var T={play:function(){this.playing=!0;var t=x.indexOf(this);return-1==t&&x[this.animateLast?"unshift":"push"](this),x.play(),this},stop:function(){this.playing=!1;var t=x.indexOf(this);return t>-1&&x.splice(t,1),this}};o.ease={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t}},a.fn=a.prototype=e({},T,{repeat:0,ease:o.ease.inOutQuad,duration:function(t){return t?void(this._d=1e3*t):this._d/1e3},restart:function(t){var e=t?this.repeatDelay:this.delay;this._s=Date.now()+(e?1e3*e:0),this._p=0,this.onStart&&this.onStart(),this.play()},pause:function(){this._p=this._p||Date.now(),this.playing=!1},reverse:function(){this.reversed=!this.reversed,this.restart()},render:function(){var t,e,n,r=this,i=Date.now();if(r.playing){if(r._p&&(r._s+=i-r._p,r._p=0),i<r._s)return!0;t=(i-r._s)/r._d,t>1&&(t=1),e=r.ease(r.reversed?1-t:t);for(n in r.to)r.target[n]=r.from[n]+(r.to[n]-r.from[n])*e;if(r.onUpdate&&r.onUpdate()===!1)return!1;if(1===t){if(r.onComplete&&r.onComplete(),r.yoyo&&(r.reversed=!r.reversed),0===r.repeat)return!1;r.repeat>0&&r.repeat--,r.restart(!0)}return!0}}}),o.Animate=a,a.from=function(t,e,n,r){var i={};for(var s in n)i[s]=t[s];return r=r||{},r.from=n,new a(t,e,i,r)},a.fromTo=function(t,e,n,r,i){return i=i||{},i.from=n,new a(t,e,r,i)},w.to=w.animate=function(t,e,n){return new a(this,t,e,n)},w.from=function(t,e,n){return new a.from(this,t,e,n)},w.fromTo=function(t,e,n,r){return new a.fromTo(this,t,e,n,r)},o.Group=i(w,v,{type:"group",add:function(t){for(var e=this,n=t&&t.length>-1&&Array.isArray(t)?t:arguments,r=n.length,i=0;r>i;i++)n[i]&&(n[i].parent=e,e.push(n[i]));return e.sort(s)},init:function(t){t&&t.children&&this.add(t.children)}});var _="<style>.canvallax--fullscreen { position: fixed; top: 0; left: 0; z-index: -1; }</style>";o.Scene=i(o.Group,T,{type:"scene",parentElement:u,className:"",fullscreen:!0,includeStyles:!0,playing:!0,animateLast:!0,clearFrames:!0,clear:function(t){return t.clearRect(0,0,this.width,this.height),this},resize:function(t,e){return this.width=this.canvas.width=t||this.width,this.height=this.canvas.height=e||this.height,this},resizeFullscreen:function(){return this.resize(t.innerWidth,t.innerHeight),this},init:function(e){var n=this;n.canvas||(n.canvas=h.createElement("canvas"),n.parentElement.insertBefore(n.canvas,n.parentElement.firstChild)),n.ctx=n.canvas.getContext("2d"),n.className+=" canvallax ",n.fullscreen?(n.resizeFullscreen(),t.addEventListener("resize",n.resizeFullscreen.bind(n)),_&&n.includeStyles&&(h.head.insertAdjacentHTML("afterbegin",_),_=null),n.className+=" canvallax--fullscreen "):n.resize(n.width||n.canvas.width,n.height||n.canvas.height),n.canvas.className+=n.className,e&&e.children&&n.add(e.children),n.render=n.render.bind(n,n.ctx,n)}}),o.Element=i(w,{type:"element",lineWidth:1,_render:function(t,e){var n=this;return(n.fixed||!e||e.transform(t,n.z))&&n.transform(t,n.z)?(n.draw&&(t.beginPath(),n.draw(t,n.getCoords(n.z),e)),n.fill&&(m(n.fill)?n.fill(t,e):(t.fillStyle=n.fill,t.fill())),void(n.stroke&&(n.lineWidth&&(t.lineWidth=n.lineWidth),m(n.stroke)?n.stroke(t,e):(t.strokeStyle=n.stroke,t.stroke())))):n}});var z=o.createElement=i.bind(null,o.Element),C=.5522848,b=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return"function"==typeof e.ellipse}(),O=function(t,e){t.ellipse(e[0]+this.width/2,e[1]+this.height/2,this.width/2,this.height/2,0,0,d)};b||(O=function(t,e){var n=this.width,r=this.height,i=e[0],a=e[1];if(n===r)t.arc(i+n/2,e[1]+n/2,n/2,0,d);else{var s=n/2*C,o=r/2*C,h=i+n,u=a+r,l=i+n/2,c=a+r/2;t.moveTo(i,c),t.bezierCurveTo(i,c-o,l-s,a,l,a),t.bezierCurveTo(l+s,a,h,c-o,h,c),t.bezierCurveTo(h,c+o,l+s,u,l,u),t.bezierCurveTo(l-s,u,i,c+o,i,c)}}),o.Ellipse=z({type:"ellipse",draw:O}),o.Rectangle=z({type:"rectangle",draw:function(t,e){t.rect(e[0],e[1],this.width,this.height)}}),o.Image=z({type:"image",onload:function(t){t.width=t.width?t.width:t.image.width,t.height=t.height?t.height:t.image.height},init:function(t){var e=this.image;e=e&&1===e.nodeType?e:t&&1===t.nodeType?t:new Image,e instanceof HTMLCanvasElement||(e=e.cloneNode()),this.image=e,this.onload(this),e.onload=this.onload.bind(null,this),e.src=e.src||t.src||t},draw:function(t,e){this.image&&t.drawImage(this.image,e[0],e[1],this.width,this.height)}}),o.Polygon=z({type:"polygon",points:6,draw:function(t,e){var n,r,i,a,s=this.points,o=s.length,h=0;if(o)for(;o>h;h++)"close"===s[h]?t.closePath():t[0===h?"moveTo":"lineTo"](e[0]+s[h][0],e[1]+s[h][1]);else{for(n=this.width/2,r=this.height/2,i=e[0]+n,a=e[1]+r,t.moveTo(i+n,a);s>h;h++)t.lineTo(i+n*Math.cos(h*d/s),a+r*Math.sin(h*d/s));t.closePath()}}}),o.Tracker=i(v,T,{ease:0,scale:1,property:"offset",individual:!1,playing:!0,applyTracking:function(t,e){var n=this,r=t[n.property]||{},i={};if(e=e||n._render(t),!e)return!1;for(var a in e)i[a]=n.scale*(n.invert===!0||n.invert==="invert"+a?e[a]:-e[a])+(n.offset&&!isNaN(n.offset[a])?n.offset[a]:isNaN(n.offset)?0:n.offset),r[a]||(r[a]=0),r[a]=n.ease<=0?i[a]:r[a]+(i[a]-r[a])/(n.ease+1);return t[n.property]=r,this},render:function(){for(var t=this.length,e=0,n=this.individual?null:this._render();t>e;e++)this.applyTracking(this[e],n);return this}});var k=o.createTracker=i.bind(null,o.Tracker),A=0,E=0,P=!1,R=function(){A=t.pageXOffset,E=t.pageYOffset};o.TrackScroll=k({init:function(){P||(P=!0,R(),h.addEventListener("scroll",R))},_render:function(){return{x:A,y:E}}});var F=t.innerHeight,L=t.innerWidth,N=!1,I=function(){F=t.innerHeight,L=t.innerWidth},S=L/2,Q=F/2,W=!1,M=function(t){S=t.touches?t.touches[0].clientX:t.clientX,Q=t.touches?t.touches[0].clientY:t.clientY};o.TrackPointer=o.createTracker({range:!1,init:function(){W||(W=!0,h.addEventListener("mousemove",M),h.addEventListener("touchmove",M),h.addEventListener("touchstart",M)),N||(I(),t.addEventListener("resize",I))},_render:function(){var t=-S,e=-Q,n=this.range;return(n||0===n)&&(t=(S/L-.5)*-(n.x||n),e=(Q/F-.5)*-(n.y||n)),{x:t,y:e}}}),o.TrackElement=o.createTracker({init:function(t){var e=t&&t.element||t;this.element="string"==typeof e?document.querySelector(e):e},_render:function(){var t=this.element.getBoundingClientRect();return{x:-t.left,y:-t.top}}});for(var q=p,D=t._clx||[],H=D.length,X=0;H>X;X++)D[X](o);q.push=function(t){t(o)},t._clx=q}(window||this);