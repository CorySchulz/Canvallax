/*! Canvallax, v1.1.1 (built 2015-11-12) https://github.com/shshaw/Canvallax.js @preserve */
!function(){function a(a,b){return a.zIndex===b.zIndex?0:a.zIndex<b.zIndex?-1:1}function b(a){var b=c(a);return a._pointCache&&a._pointChecksum===b||(a._pointCache=a.getTransformPoint(),a._pointChecksum=b),a._pointCache}function c(a){return[a.transformOrigin,a.x,a.y,a.width,a.height,a.size].join(" ")}function d(){this.width=this.width?this.width:this.image.width,this.height=this.height?this.height:this.image.height}var e=window,f=document,g=f.documentElement,h=f.body,i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(a){e.setTimeout(a,20)},j=function(){},k={scroll:!0,x:0,y:0,damping:1,canvas:void 0,parent:document.body,elements:void 0,animating:!0,fullscreen:!0,preRender:j,postRender:j},l=!1,m=0,n=0,o=function(){m=g.scrollLeft||h.scrollLeft,n=g.scrollTop||h.scrollTop};if(!e.CanvasRenderingContext2D)return e.Canvallax=function(){return!1};e.Canvallax=function s(a){if(!(this instanceof s))return new s(a);var b=this;return s.extend(this,k,a),b.canvas=b.canvas||f.createElement("canvas"),b.canvas.className="canvallax "+b.className,b.parent.insertBefore(b.canvas,b.parent.firstChild),b.fullscreen?(b.resizeFullscreen(),e.addEventListener("resize",b.resizeFullscreen.bind(b))):b.resize(b.width,b.height),b.ctx=b.canvas.getContext("2d"),b.elements=[],a&&a.elements&&b.addElements(a.elements),b.damping=!b.damping||b.damping<1?1:b.damping,b.render(),b},Canvallax.prototype={_x:0,_y:0,add:function(b){for(var c=b.length?b:arguments,d=c.length,e=0;d>e;e++)this.elements.push(c[e]);return this.elements.sort(a),this},remove:function(a){var b=this.elements.indexOf(a);return b>-1&&this.elements.splice(b,1),this},render:function(){var a=this,b=0,c=a.elements.length;for(a.animating&&(a.animating=i(a.render.bind(a))),a.scroll&&(l||(l=!0,o(),e.addEventListener("scroll",o),e.addEventListener("touchmove",o)),a.x="invert"===a.scroll||"invertx"===a.scroll?-m:m,a.y="invert"===a.scroll||"inverty"===a.scroll?-n:n),a._x+=(-a.x-a._x)/a.damping,a._y+=(-a.y-a._y)/a.damping,a.ctx.clearRect(0,0,a.width,a.height),a.preRender(a.ctx,a);c>b;b++)a.ctx.save(),a.elements[b]._render(a.ctx,a),a.ctx.restore();return a.postRender(a.ctx,a),this},resize:function(a,b){return this.width=this.canvas.width=a,this.height=this.canvas.height=b,this},resizeFullscreen:function(){return this.resize(e.innerWidth,e.innerHeight)},play:function(){return this.animating=!0,this.render()},pause:function(){return this.animating=!1,this}},Canvallax.extend=function(a){a=a||{};var b=arguments.length,c=1;for(1===arguments.length&&(a=this,c=0);b>c;c++)if(arguments[c])for(var d in arguments[c])arguments[c].hasOwnProperty(d)&&(a[d]=arguments[c][d]);return a};var p=Math.PI/180,q={x:0,y:0,distance:1,fixed:!1,opacity:1,fill:!1,stroke:!1,lineWidth:!1,transformOrigin:"center center",scale:1,rotation:0,preRender:j,render:j,postRender:j,init:j,crop:!1,getTransformPoint:function(){var a=this,b=a.transformOrigin.split(" "),c={x:a.x,y:a.y};return"center"===b[0]?c.x+=a.width?a.width/2:a.size:"right"===b[0]&&(c.x+=a.width?a.width:2*a.size),"center"===b[1]?c.y+=a.height?a.height/2:a.size:"bottom"===b[1]&&(c.y+=a.height?a.height:2*a.size),c},_render:function(a,c){var d=this,e=d.distance||1,f=c._x,g=c._y,h=b(d);return d.preRender.call(d,a,c),d.blend&&(c.ctx.globalCompositeOperation=d.blend),c.ctx.globalAlpha=d.opacity,c.ctx.translate(h.x,h.y),d.scale===!1?(f*=e,g*=e):c.ctx.scale(e,e),d.fixed||c.ctx.translate(f,g),d.scale!==!1&&c.ctx.scale(d.scale,d.scale),d.rotation&&c.ctx.rotate(d.rotation*p),c.ctx.translate(-h.x,-h.y),d.crop&&(a.beginPath(),"function"==typeof d.crop?d.crop.call(d,a,c):a.rect(d.crop.x,d.crop.y,d.crop.width,d.crop.height),a.clip(),a.closePath()),d.outline&&(a.beginPath(),a.rect(d.x,d.y,d.width||2*d.size,d.height||2*d.size),a.closePath(),a.strokeStyle=d.outline,a.stroke()),d.render.call(d,a,c),this.fill&&(a.fillStyle=this.fill,a.fill()),this.stroke&&(this.lineWidth&&(a.lineWidth=this.lineWidth),a.strokeStyle=this.stroke,a.stroke()),d.postRender.call(d,a,c),d},clone:function(a){var a=Canvallax.extend({},this,a);return new this.constructor(a)}};Canvallax.createElement=function(a){function b(a){return this instanceof b?(Canvallax.extend(this,a),this.init.apply(this,arguments),this):new b(a)}return b.prototype=Canvallax.extend({},q,a),b.prototype.constructor=b,b.clone=b.prototype.clone,b},Canvallax.Element=Canvallax.createElement();var r=2*Math.PI;Canvallax.Circle=Canvallax.createElement({size:20,render:function(a){a.beginPath(),a.arc(this.x+this.size,this.y+this.size,this.size,0,r),a.closePath()}}),Canvallax.Image=Canvallax.createElement({src:null,image:null,width:null,height:null,init:function(a){this.image=(this.image?this.image:a.nodeType?a:new Image).cloneNode(),d.bind(this)(),this.image.onload=d.bind(this),this.image.src=this.image.src||a.src||a},render:function(a){this.image&&a.drawImage(this.image,this.x,this.y,this.width,this.height)}});var r=2*Math.PI;Canvallax.Polygon=Canvallax.createElement({sides:6,size:20,render:function(a){var b=this.sides;for(a.translate(this.x+this.size,this.y+this.size),a.beginPath(),a.moveTo(this.size,0);b--;)a.lineTo(this.size*Math.cos(b*r/this.sides),this.size*Math.sin(b*r/this.sides));a.closePath()}}),Canvallax.Rectangle=Canvallax.createElement({width:100,height:100,render:function(a){a.beginPath(),a.rect(this.x,this.y,this.width,this.height),a.closePath()}})}();