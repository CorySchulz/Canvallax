/*! canvallax v2.0.0 ( built 2016-04-22 ) https://github.com/shshaw/Canvallax.js @preserve */
!function(t){"use strict";function e(){var t,e=arguments,n=e[0]||{},r=e.length,i=1;for(1===r&&(n=this,i=0);r>i;i++)if(e[i])for(t in e[i])e[i].hasOwnProperty(t)&&(n[t]=e[i][t]);return n}function n(t,n){arguments.length<=1&&(n=t,t=this);var r=e({},t,n);return new t.constructor(r)}function r(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n}function i(){function t(n){var i,a=this,o=arguments.length,s=0;if(!(a instanceof t)){for(i=new Array(o);o>s;s++)i[s]=arguments[s];return r(t,i)}return 1===o&&e(a,n),a.fn=t.fn,a.init&&a.init.apply(a,arguments),a.playing&&a.play&&a.play(),a}for(var i=arguments.length,a=new Array(i),o=0,s=[],l={init:m,extend:e,clone:n};i>o;o++)a[o]=arguments[o],a[o].fn&&(s.push(a[o]),a[o]=a[o].fn);return a.unshift(l),e.apply(l,a),l._parents=s,l.constructor=t,t.fn=t.prototype=l,t}function a(t,n,r,i){if(!(this instanceof a))return new a(t,n,r,i);var o,s=this;if(e(s,i),s.target=t,s.to=r,!s.from){s.from={};for(o in r)s.from[o]=t[o]}return s.duration(n),s.restart(),s}function o(t,e){var n=t.zIndex===e.zIndex?0:t.zIndex<e.zIndex?-1:1;return n||(t.z===e.z?0:t.z<e.z?-1:1)}var s=t.canvallax=t.canvallax||{},l=document,h=l.documentElement,u=l.body,c=Array.prototype,f=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,20)};if(!t.CanvasRenderingContext2D)return!1;t.clx=s;var d=Math.PI/180,p=2*Math.PI,m=function(){},g=typeof m,v=function(t){return typeof t===g};s.extend=e,s.clone=n,s.createClass=i;var y={length:0,indexOf:c.indexOf,push:c.push,splice:c.splice,sort:c.sort,add:function(t){for(var e=this,n=t&&t.length>-1&&Array.isArray(t)?t:arguments,r=n.length,i=0;r>i;i++)n[i]&&e.push(n[i]);return e},each:function(t,e){for(var n,r=this,i=this.length,a=0;i>a&&(n=e||r[a],t.call(n,r[a],a)!==!1);a++);return this},remove:function(t){var e=this.indexOf(t);return e>-1&&this.splice(e,1),this}},w=["width","height"],T={x:0,y:0,z:1,opacity:1,scale:1,rotation:0,addTo:function(t){for(var e=t&&t.length>-1&&Array.isArray(t)?t:arguments,n=e.length,r=0;n>r;r++)e[r]&&e[r].add&&e[r].add(this);return this},render:function(t,e){if(t){var n,r=this,i=r.length,a=0;if(e=e||r.parent,n=t.globalAlpha*r.opacity,0>=n)return r;for(t.save(),t.globalAlpha=n,r.blend&&(t.globalCompositeOperation=r.blend),r.clearFrames&&r.clear&&r.clear(t,e),r.clip&&r._clip(t,e),r.preRender&&r.preRender(t,e),r._render&&r._render(t,e);i>a;a++)r[a].render(t,r);return r.postRender&&r.postRender(t,e),t.restore(),r}},getCanvas:function(){return this.canvas||(this.parent?this.parent.getCanvas():!1)},transformOrigin:"center center",calcTransformPoint:function(){for(var t,e,n=this,r=[0,0],i=n.transformOrigin.split(" "),a=0;2>a;a++)t=i[a],e="center"===t?.5:"right"===t||"bottom"===t?1:t.indexOf("%")?parseFloat(t)/100:0,e&&(r[a]=n[w[a]]*e);return r},getTransformPoint:function(t){var e=this,n=e._transformPoint,r=e.transformOrigin,i=Array.isArray(r);return i||e.width||e.height||!e.length||!e.parent?((t||!n||e._transformOrigin!==r)&&(n=i?r:e.calcTransformPoint(),e._transformOrigin=e.transformOrigin,e._transformPoint=n),n):e.parent.getTransformPoint()},getCoords:function(t){var e=this.x,n=this.y,r=this.offset,i=this.parent,a=!this.fixed&&i&&i.getCoords?i.getCoords():!1;return a&&(e+=a[0],n+=a[1]),void 0!==t&&(e*=t,n*=t),r&&(e+=r.x||0,n+=r.y||0),[e,n]},transform:function(t,e){var n,r,i=this.scale*(void 0!==e?e:1)*this.z;return 0>=i?!1:((1!==i||this.rotation%360!==0)&&(n=this.getCoords(e),r=this.getTransformPoint(),n[0]+=r[0],n[1]+=r[1],t.translate(n[0],n[1]),this.rotation&&t.rotate(this.rotation*d),t.scale(i,i),t.translate(-n[0],-n[1])),this)},_clip:function(t,e){var n=this;t.beginPath(),n.clip.render?(n.clip.parent=e||n,n.clip.render(t,e)):n.clip.call(n,t,e),t.clip()}},x=e({},y,{animate:function(){var t,e=x.length,n=0;if(!x.playing||0===e)return void x.stop();for(;e>n;n++)t=x[n],t&&t.playing&&t.render&&!t.render()&&t.stop();x.frame=f(x.animate)},play:function(){x.frame=x.frame||f(x.animate),x.playing=!0},stop:function(){x.playing=!1,x.frame=null},kill:function(){return x.stop(),x.splice(0)}});s.animations=x;var _={play:function(){this.playing=!0;var t=x.indexOf(this);return-1==t&&x.push(this),x.play(),this},stop:function(){this.playing=!1;var t=x.indexOf(this);return t>-1&&x.splice(t,1),this}};s.ease={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t}},a.fn=a.prototype=e({},_,{repeat:0,ease:s.ease.inOutQuad,duration:function(t){return t?void(this._d=1e3*t):this._d/1e3},restart:function(t){var e=t?this.repeatDelay:this.delay;this._s=Date.now()+(e?1e3*e:0),this._p=0,this.onStart&&this.onStart(),this.play()},pause:function(){this._p=this._p||Date.now(),this.playing=!1},reverse:function(){this.reversed=!this.reversed,this.restart()},render:function(){var t,e,n,r=this,i=Date.now();if(r.playing){if(r._p&&(r._s+=i-r._p,r._p=0),i<r._s)return!0;t=(i-r._s)/r._d,t>1&&(t=1),e=r.ease(r.reversed?1-t:t);for(n in r.to)r.target[n]=r.from[n]+(r.to[n]-r.from[n])*e;if(r.onUpdate&&r.onUpdate()===!1)return!1;if(1===t){if(r.onComplete&&r.onComplete(),r.yoyo&&(r.reversed=!r.reversed),0===r.repeat)return!1;r.repeat>0&&r.repeat--,r.restart(!0)}return!0}}}),s.Animate=a,a.from=function(t,e,n,r){var i={};for(var o in n)i[o]=t[o];return r=r||{},r.from=n,new a(t,e,i,r)},a.fromTo=function(t,e,n,r,i){return i=i||{},i.from=n,new a(t,e,r,i)},T.to=T.animate=function(t,e,n){return new a(this,t,e,n)},T.from=function(t,e,n){return new a.from(this,t,e,n)},T.fromTo=function(t,e,n,r){return new a.fromTo(this,t,e,n,r)},s.Group=i(T,y,{type:"group",add:function(t){for(var e=this,n=t&&t.length>-1&&Array.isArray(t)?t:arguments,r=n.length,i=0;r>i;i++)n[i]&&(n[i].parent=e,e.push(n[i]));return e.sort(o)},init:function(t){t&&t.children&&this.add(t.children)}});var z="<style>.canvallax--fullscreen { position: fixed; top: 0; left: 0; z-index: -1; }</style>";s.Scene=i(s.Group,_,{type:"scene",parentElement:u,className:"",fullscreen:!0,includeStyles:!0,playing:!0,clearFrames:!0,clear:function(t){return t.clearRect(0,0,this.width,this.height),this},resize:function(t,e){return this.width=this.canvas.width=t||this.width,this.height=this.canvas.height=e||this.height,this},resizeFullscreen:function(){return this.resize(t.innerWidth,t.innerHeight),this},init:function(e){var n=this;n.canvas||(n.canvas=l.createElement("canvas"),n.parentElement.insertBefore(n.canvas,n.parentElement.firstChild)),n.ctx=n.canvas.getContext("2d"),n.className+=" canvallax ",n.fullscreen?(z&&n.includeStyles&&(l.head.insertAdjacentHTML("afterbegin",z),z=null),n.className+=" canvallax--fullscreen ",n.resizeFullscreen(),t.addEventListener("resize",n.resizeFullscreen.bind(n))):n.resize(n.width||n.canvas.width,n.height||n.canvas.height),n.canvas.className+=n.className,e&&e.children&&n.add(e.children),n.render=n.render.bind(n,n.ctx,n)}}),s.Element=i(T,{type:"element",lineWidth:1,_render:function(t,e){var n=this;return(n.fixed||!e||e.transform(t,n.z))&&n.transform(t,n.z)?(n.draw&&(t.beginPath(),n.draw(t,n.getCoords(),e)),n.fill&&(v(n.fill)?n.fill(t,e):(t.fillStyle=n.fill,t.fill())),void(n.stroke&&(n.lineWidth&&(t.lineWidth=n.lineWidth),v(n.stroke)?n.stroke(t,e):(t.strokeStyle=n.stroke,t.stroke())))):n}});var C=s.createElement=i.bind(null,s.Element),b=.5522848,A=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return"function"==typeof e.ellipse}(),O=function(t,e){t.ellipse(e[0]+this.width/2,e[1]+this.height/2,this.width/2,this.height/2,0,0,p)};A||(O=function(t,e){var n=this.width,r=this.height,i=e[0],a=e[1];if(n===r)t.arc(i+n/2,e[1]+n/2,n/2,0,p);else{var o=n/2*b,s=r/2*b,l=i+n,h=a+r,u=i+n/2,c=a+r/2;t.moveTo(i,c),t.bezierCurveTo(i,c-s,u-o,a,u,a),t.bezierCurveTo(u+o,a,l,c-s,l,c),t.bezierCurveTo(l,c+s,u+o,h,u,h),t.bezierCurveTo(u-o,h,i,c+s,i,c)}}),s.Ellipse=C({type:"ellipse",draw:O}),s.Rectangle=C({type:"rectangle",draw:function(t,e){t.rect(e[0],e[1],this.width,this.height)}}),s.Image=C({type:"image",onload:function(t){t.width=t.width?t.width:t.image.width,t.height=t.height?t.height:t.image.height},init:function(t){var e=this.image;e=e&&1===e.nodeType?e:t&&1===t.nodeType?t:new Image,e instanceof HTMLCanvasElement||(e=e.cloneNode()),this.image=e,this.onload(this),e.onload=this.onload.bind(null,this),e.src=e.src||t.src||t},draw:function(t,e){this.image&&t.drawImage(this.image,e[0],e[1],this.width,this.height)}}),s.Polygon=C({type:"polygon",points:6,draw:function(t,e){var n,r,i,a,o=this.points,s=o.length,l=0;if(s)for(;s>l;l++)"close"===o[l]?t.closePath():t[0===l?"moveTo":"lineTo"](e[0]+o[l][0],e[1]+o[l][1]);else{for(n=this.width/2,r=this.height/2,i=e[0]+n,a=e[1]+r,t.moveTo(i+n,a);o>l;l++)t.lineTo(i+n*Math.cos(l*p/o),a+r*Math.sin(l*p/o));t.closePath()}}}),s.Tracker=i(y,_,{ease:0,scale:1,property:"offset",individual:!1,playing:!0,applyTracking:function(t,e){var n=this,r=t[n.property]||{},i={};if(e=e||n._render(t),!e)return!1;for(var a in e)i[a]=n.scale*(n.invert===!0||n.invert==="invert"+a?e[a]:-e[a])+(n.offset&&!isNaN(n.offset[a])?n.offset[a]:isNaN(n.offset)?0:n.offset),r[a]||(r[a]=0),r[a]=n.ease<=0?i[a]:r[a]+(i[a]-r[a])/(n.ease+1);return t[n.property]=r,this},render:function(){for(var t=this.length,e=0,n=this.individual?null:this._render();t>e;e++)this.applyTracking(this[e],n);return this}});var k=s.createTracker=i.bind(null,s.Tracker),E=0,P=0,R=!1,F=function(){E=h.scrollLeft||u.scrollLeft,P=h.scrollTop||u.scrollTop};s.TrackScroll=k({init:function(){R||(R=!0,F(),l.addEventListener("scroll",F))},_render:function(){return{x:E,y:P}}});var N=0,I=0,L=!1,S=function(t){N=t.touches?t.touches[0].clientX:t.clientX,I=t.touches?t.touches[0].clientY:t.clientY};s.TrackPointer=k({init:function(){L||(L=!0,l.addEventListener("mousemove",S),l.addEventListener("touchmove",S),l.addEventListener("touchstart",S))},_render:function(){return{x:-N,y:-I}}}),s.TrackElement=s.createTracker({init:function(t){var e=t&&t.element||t;this.element="string"==typeof e?document.querySelector(e):e},_render:function(){var t=this.element.getBoundingClientRect();return{x:-t.left,y:-t.top}}})}(window||this);